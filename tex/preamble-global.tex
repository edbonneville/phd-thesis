% The font set-up (only works with pdf-engine: pdflatex)
\usepackage[sfdefault]{libertinus}
\usepackage{libertinust1math}
\usepackage{subdepth} % Miracle fix for sub/superscript alignments

% Avoiding overfull boxes in TOC (page numbers from the chapters)
\DeclareTOCStyleEntry[pagenumberwidth=2em]{chapter}{chapter}

% For the chapter thumbs
\usepackage{chapterthumb}
\usepackage{scrlayer-scrpage}
% The below will be 'undone' in chapters/references.qmd so that the thumbs
% are only used from intro to discussion
\AddLayersToPageStyle{@everystyle@}{chapterthumb}
\addtokomafont{chapterthumb}{}

% Define commands common to many chapters
\DeclareMathOperator{\logit}{logit}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\SE}{SE}
\newcommand{\given}{\,|\,}
\newcommand{\indep}{\perp\!\!\!\!\perp}
\newcommand\diff{\mathop{}\!\mathrm{d}}
\newcommand\Diff[1]{\mathop{}\!\mathrm{d^#1}}

% Shortcut for bold and sans
\newcommand{\bsf}[1]{\textbf{\textsf{#1}}}

% Fancy chapter titles
\input{tex/koma-chapter-titles}

% Default headings format (see documentation https://ctan.org/pkg/koma-script?lang=en)
% (thought sometimes changed in a chapter itself using \markleft{...})
\renewcommand*{\chaptermarkformat}{\thechapter\autodot\enskip}

% For the footnotes at the start of the article chapters:
% https://tex.stackexchange.com/questions/30720/footnote-without-a-marker
\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}

% Uncomment show frames for troubleshooting over/underfull boxes
%\usepackage{showframe}

% Better spacing, if commented you have the page alignment at the bottom but
% ..some of the section spacing may be off - see discussion in the komascript manual
\raggedbottom

% Comment the below if not sending to printers
% The bleed (+3 mm on each side = +6mm to paperwidth and paperheight)
%\usepackage[center,width=176mm,height=246mm]{crop}

% Note for dutch hypenations, need to run both:
% - tinytex::tlmgr_install("babel-dutch")
% - tinytex::tlmgr_install("hyphen-dutch")
